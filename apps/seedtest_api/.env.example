# SeedTest API - Example environment file
# Copy to .env and fill real values for local development.

# --- Core ---
APP_ENV=local
API_PREFIX=/api/seedtest
LOCAL_DEV=true

# --- Database ---
# SQLAlchemy DSN (PostgreSQL)
# Example for local harness (see scripts/dev_db_test.sh):
DATABASE_URL=postgresql+psycopg2://user:pass@127.0.0.1:5433/dreamseed_db

# --- Authentication (choose one path) ---
# 1) Static public key (PEM)
#JWT_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----...-----END PUBLIC KEY-----
# 2) JWKS URL
#JWKS_URL=https://auth.example.com/.well-known/jwks.json
#JWT_ISS=https://auth.example.com/
#JWT_AUD=seedtest-api

# --- Analysis & Recommendations ---
# Enable/disable analysis endpoint
ENABLE_ANALYSIS=true
# Choose engine: heuristic | irt | mixed_effects
ANALYSIS_ENGINE=heuristic
# Recommender: rule | content | hybrid
RECOMMENDER_ENGINE=hybrid
# Optional external content catalog (JSON or YAML)
# CONTENT_CATALOG_PATH=apps/seedtest_api/data/content_sample.json
# Forecast goal(s)
ANALYSIS_GOAL_TARGETS=130,150
ANALYSIS_GOAL_HORIZONS=3,5,8

# --- Caching (optional) ---
# If provided, Redis will be used for shared caching across instances; otherwise falls back to in-process TTL.
# Example: redis://localhost:6379/0
#REDIS_URL=redis://127.0.0.1:6379/0
# Redis key prefix (namespace). Defaults to "seedtest:".
#REDIS_KEY_PREFIX=seedtest:

# --- Result response shaping ---
# Omit timestamps in contract responses when true (can be overridden per-request)
RESULT_EXCLUDE_TIMESTAMPS=false

# --- Adaptive testing prior (for SE calc) ---
CAT_PRIOR_SD=1.0

# --- AWS (PDF Jobs Integration) ---
# If you enable the PDF Jobs router, configure these for Lambda/DynamoDB/S3 integration
# AWS_REGION=ap-northeast-2
# LAMBDA_NAME=seedtest-pdf-PdfGeneratorFunction-XXXXXXXX
# DDB_TABLE=pdf_jobs
# S3_BUCKET=your-generated-bucket-name
# RETURN_PRESIGNED_URL=true
