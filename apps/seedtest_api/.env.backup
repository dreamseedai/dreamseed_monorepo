# Local development mode
LOCAL_DEV=true

# Main database (PostgreSQL for new data)
DATABASE_URL=postgresql+psycopg2://postgres:postgres@127.0.0.1:5432/dreamseed

# Legacy MySQL read-only adapter
USE_MPC_LEGACY_READONLY=true
MPC_MYSQL_URL=mysql+pymysql://mpcstudy_root:SetA_Strong_Pass!2025@127.0.0.1:3306/mpcstudy_db?charset=utf8mb4

# Legacy SQL templates for mpcstudy MySQL schema (use :offset instead of (:page - 1) * :limit)
MPC_MYSQL_LIST_SQL=SELECT que_id as id, que_en_title as title, que_en_desc as stem, que_en_solution as explanation, que_en_answers as options_raw, que_en_answerm as answer_char, que_class, que_grade, que_level, que_createddate as created_at, que_modifieddate as updated_at FROM tbl_question WHERE (:q = '' OR que_en_title LIKE CONCAT('%', :q, '%') OR que_en_desc LIKE CONCAT('%', :q, '%')) ORDER BY que_modifieddate DESC, que_id DESC LIMIT :limit OFFSET :offset

MPC_MYSQL_DETAIL_SQL=SELECT que_id as id, que_en_title as title, que_en_desc as stem, que_en_solution as explanation, que_en_answers as options_raw, que_en_answerm as answer_char, que_class, que_grade, que_level, que_createddate as created_at, que_modifieddate as updated_at FROM tbl_question WHERE que_id = :id LIMIT 1

# JWT settings (ignored when LOCAL_DEV=true)
JWKS_URL=https://auth.dreamseedai.com/.well-known/jwks.json
JWT_ISS=https://auth.dreamseedai.com/
JWT_AUD=seedtest-api

# CORS: allow local admin_front dev ports (3030/3031)
ALLOWED_ORIGINS=http://localhost:3030,http://127.0.0.1:3030,http://localhost:3031,http://127.0.0.1:3031
