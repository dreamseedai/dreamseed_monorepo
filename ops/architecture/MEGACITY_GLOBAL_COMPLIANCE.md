# ğŸ“˜ DreamSeedAI MegaCity â€“ Global Compliance Manual

## GDPR Â· PIPA Â· COPPA Â· FERPA Â· CCPA ì¤€ìˆ˜ í•¸ë“œë¶ (ì „ ì„¸ê³„ ê°œì¸ì •ë³´ ê·œì œ ëŒ€ì‘)

**ë²„ì „:** 1.0  
**ì‘ì„±ì¼:** 2025-11-22  
**ì‘ì„±ì:** DreamSeedAI Compliance Â· Legal Â· Security Team

---

# ğŸ“Œ 0. ê°œìš” (Overview)

DreamSeedAI MegaCityëŠ” **9ê°œ Zone + AI Cluster + K-Zone(ë¬¸í™”/ë©€í‹°ëª¨ë‹¬ AI)** ìœ¼ë¡œ êµ¬ì„±ëœ ê¸€ë¡œë²Œ êµìœ¡Â·ë¬¸í™” í”Œë«í¼ì…ë‹ˆë‹¤.

ê¸€ë¡œë²Œ í™•ì¥ì„ ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ ë‹¤ì–‘í•œ êµ­ê°€Â·ì§€ì—­ì˜ ê°œì¸ì •ë³´ë²•ì„ ë™ì‹œì— ì¤€ìˆ˜í•´ì•¼ í•©ë‹ˆë‹¤:

## ì ìš© ê·œì œ ë²”ìœ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Global Compliance Framework                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         â”‚          â”‚          â”‚          â”‚          â”‚
    â–¼         â–¼          â–¼          â–¼          â–¼          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  GDPR  â”‚â”‚  PIPA  â”‚â”‚ COPPA  â”‚â”‚ FERPA  â”‚â”‚  CCPA  â”‚      â”‚
â”‚  (EU)  â”‚â”‚(Korea) â”‚â”‚  (US)  â”‚â”‚  (US)  â”‚â”‚  (US)  â”‚      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
    â”‚         â”‚          â”‚          â”‚          â”‚          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚   ISO 27001/27701    â”‚
              â”‚  (Global Standards)  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ê·œì œ ìš”ì•½

| ê·œì œ | ê´€í•  | ì ìš© ëŒ€ìƒ | ì£¼ìš” ìš”êµ¬ì‚¬í•­ |
|------|------|----------|--------------|
| **GDPR** | EU | EU ê±°ì£¼ì ë°ì´í„° ì²˜ë¦¬ | ë™ì˜, ê¶Œë¦¬ ë³´ì¥, DPIA, êµ­ì œ ì „ì†¡ ê·œì¹™ |
| **PIPA** | í•œêµ­ | í•œêµ­ ì‚¬ìš©ì | ì£¼ë¯¼ë²ˆí˜¸ ê¸ˆì§€, ë§Œ 14ì„¸ ë¯¸ë§Œ ë³´í˜¸, ì œ3ì ì œê³µ ê¸°ë¡ |
| **COPPA** | ë¯¸êµ­ | 13ì„¸ ë¯¸ë§Œ ì•„ë™ | ë³´í˜¸ì ë™ì˜, ê´‘ê³  ê¸ˆì§€, ì‚­ì œ ìš”ì²­ |
| **FERPA** | ë¯¸êµ­ | êµìœ¡ ê¸°ë¡ | í•™ìƒ ì„±ì  ë³´í˜¸, ì—´ëŒê¶Œ, ì ‘ê·¼ ì œí•œ |
| **CCPA** | ìº˜ë¦¬í¬ë‹ˆì•„ | CA ê±°ì£¼ì | ì•Œ ê¶Œë¦¬, ì‚­ì œê¶Œ, Opt-out |

ë³¸ ë¬¸ì„œëŠ” MegaCity ì „ì²´ê°€ ë”°ë¼ì•¼ í•˜ëŠ” **ê¸€ë¡œë²Œ ê°œì¸ì •ë³´ ë³´í˜¸ ê¸°ì¤€(Global Compliance Framework)** ì„ ì •ì˜í•©ë‹ˆë‹¤.

---

# ğŸ§­ 1. Compliance Framework Overview

MegaCityì˜ ê°œì¸ì •ë³´Â·ë°ì´í„° ë³´í˜¸ ì²´ê³„ëŠ” **5ê°œ í•µì‹¬ ì›ì¹™**ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.

## 1.1 í•µì‹¬ ì›ì¹™

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Data Minimization (ìµœì†Œ ìˆ˜ì§‘)                       â”‚
â”‚     - í•„ìˆ˜ ì •ë³´ë§Œ ìˆ˜ì§‘ (ì´ë©”ì¼, ì—­í• , í•™ìŠµ ë°ì´í„°)     â”‚
â”‚     - ì£¼ë¯¼ë²ˆí˜¸, GPS ìœ„ì¹˜ ë“± ë¯¼ê°ì •ë³´ ìˆ˜ì§‘ ê¸ˆì§€         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. Purpose Limitation (ëª©ì  ì œí•œ)                      â”‚
â”‚     - ìˆ˜ì§‘ ëª©ì  ëª…ì‹œ ë° ë™ì˜                           â”‚
â”‚     - ëª©ì  ì™¸ ì‚¬ìš© ê¸ˆì§€                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. Retention Limits (ë³´ì¡´ ê¸°ê°„ ì œí•œ)                   â”‚
â”‚     - PII: 3ë…„                                         â”‚
â”‚     - Logs: 1ë…„                                        â”‚
â”‚     - AI ì—…ë¡œë“œ íŒŒì¼: 7~30ì¼                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. Security Measures (ë³´ì•ˆ ì¡°ì¹˜)                       â”‚
â”‚     - Encryption (At-rest, In-transit, Column-level)   â”‚
â”‚     - Access Control (RBAC, PBAC, RLS)                 â”‚
â”‚     - Audit Logging                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. User Rights (ì‚¬ìš©ì ê¶Œë¦¬ ë³´ì¥)                      â”‚
â”‚     - Right to Access (ì—´ëŒê¶Œ)                         â”‚
â”‚     - Right to Erasure (ì‚­ì œê¶Œ)                        â”‚
â”‚     - Right to Portability (ì´ë™ê¶Œ)                    â”‚
â”‚     - Right to Restrict Processing (ì²˜ë¦¬ ì œí•œê¶Œ)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ëª¨ë“  Zone(UnivPrepAI, SkillPrepAI, MediaPrepAI, K-Zone ë“±)ì—ì„œ ë™ì¼í•˜ê²Œ ì ìš©ë©ë‹ˆë‹¤.

## 1.2 Compliance ìš´ì˜ ì²´ê³„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Compliance Team  â”‚  ë²•ë¥ Â·ê·œì œ ê²€í† , ì •ì±… ìˆ˜ë¦½
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Security Team   â”‚  ë³´ì•ˆ ì¡°ì¹˜ êµ¬í˜„ (ì•”í˜¸í™”, ì ‘ê·¼ì œì–´)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Engineering     â”‚  ì‹œìŠ¤í…œ êµ¬í˜„ (GDPR API, Audit Log)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Operations      â”‚  ì¼ì¼ ëª¨ë‹ˆí„°ë§, ì‚¬ìš©ì ìš”ì²­ ì²˜ë¦¬
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# ğŸ” 2. GDPR (EU General Data Protection Regulation)

GDPRì€ **ì„¸ê³„ì—ì„œ ê°€ì¥ ê°•ë ¥í•œ ê°œì¸ì •ë³´ ê·œì œ**ì´ë©°, EU ê±°ì£¼ì ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ëª¨ë“  ê¸°ì—…ì— ì ìš©ë©ë‹ˆë‹¤.

## 2.1 GDPR í•µì‹¬ ì›ì¹™ (Article 5)

| ì›ì¹™ | ì„¤ëª… | DreamSeedAI êµ¬í˜„ |
|------|------|------------------|
| **Lawfulness** (ì ë²•ì„±) | ë²•ì  ê·¼ê±° í•„ìš” (ë™ì˜, ê³„ì•½, ë²•ì  ì˜ë¬´) | ì‚¬ìš©ì ë™ì˜ + ì„œë¹„ìŠ¤ ê³„ì•½ |
| **Fairness** (ê³µì •ì„±) | ì‚¬ìš©ìì—ê²Œ ë¶ˆë¦¬í•˜ì§€ ì•Šê²Œ ì²˜ë¦¬ | íˆ¬ëª…í•œ ì •ì±… ê³µê°œ |
| **Transparency** (íˆ¬ëª…ì„±) | ì²˜ë¦¬ ë°©ë²• ëª…í™•íˆ ê³ ì§€ | Privacy Policy, ë™ì˜ í™”ë©´ |
| **Purpose Limitation** (ëª©ì  ì œí•œ) | ìˆ˜ì§‘ ëª©ì  ì™¸ ì‚¬ìš© ê¸ˆì§€ | í•™ìŠµ ëª©ì ë§Œ ì‚¬ìš© |
| **Data Minimization** (ìµœì†Œí™”) | í•„ìš”í•œ ì •ë³´ë§Œ ìˆ˜ì§‘ | ì´ë©”ì¼, ì—­í• ë§Œ ìˆ˜ì§‘ |
| **Accuracy** (ì •í™•ì„±) | ë°ì´í„° ì •í™•ì„± ìœ ì§€ | ì‚¬ìš©ì ì •ì • ê¸°ëŠ¥ ì œê³µ |
| **Storage Limitation** (ë³´ì¡´ ì œí•œ) | í•„ìš” ê¸°ê°„ë§Œ ë³´ì¡´ | PII 3ë…„, Logs 1ë…„ |
| **Integrity & Confidentiality** (ê¸°ë°€ì„±) | ë³´ì•ˆ ì¡°ì¹˜ | ì•”í˜¸í™”, ì ‘ê·¼ì œì–´ |
| **Accountability** (ì±…ì„ì„±) | ì¤€ìˆ˜ ì¦ëª… ì˜ë¬´ | Audit Log, DPIA ë¬¸ì„œ |

## 2.2 DreamSeedAI GDPR ì¤€ìˆ˜ í•­ëª©

### 2.2.1 ìµœì†Œ ìˆ˜ì§‘ (Data Minimization)

```python
# íšŒì›ê°€ì… ì‹œ ìµœì†Œ ì •ë³´ë§Œ ìˆ˜ì§‘
@app.post("/api/v1/auth/register")
async def register(request: RegisterRequest):
    # í•„ìˆ˜ í•­ëª©ë§Œ ìˆ˜ì§‘
    required_fields = {"email", "password", "name", "role"}
    
    # ë¶ˆí•„ìš”í•œ ì •ë³´ ê±°ë¶€
    if set(request.dict(exclude_unset=True).keys()) > required_fields:
        raise HTTPException(400, "GDPR violation: Collecting unnecessary data")
    
    user = await create_user(request)
    return {"user_id": user.id}
```

### 2.2.2 ëª…í™•í•œ ë™ì˜ (Consent - Article 7)

```python
@app.post("/api/v1/auth/register")
async def register(request: RegisterRequest):
    # ëª…ì‹œì  ë™ì˜ í•„ìˆ˜
    if not request.consent_privacy_policy:
        raise HTTPException(400, "Privacy policy consent required (GDPR Article 7)")
    
    if not request.consent_data_processing:
        raise HTTPException(400, "Data processing consent required (GDPR Article 7)")
    
    # ë™ì˜ ê¸°ë¡ ì €ì¥
    await db.execute(
        """
        INSERT INTO user_consents (user_id, consent_type, consented_at, ip_address)
        VALUES (:user_id, :type, NOW(), :ip)
        """,
        {
            "user_id": user.id,
            "type": "privacy_policy",
            "ip": request.client_ip
        }
    )
    
    return {"user_id": user.id}
```

### 2.2.3 ë°ì´í„° ë³´ì¡´ ê¸°ê°„ (Storage Limitation - Article 5(1)(e))

| ë°ì´í„° ìœ í˜• | ë³´ì¡´ ê¸°ê°„ | ë²•ì  ê·¼ê±° |
|------------|----------|----------|
| **PII** (ì´ë©”ì¼, ì´ë¦„, ì „í™”ë²ˆí˜¸) | 3ë…„ | ì„œë¹„ìŠ¤ ì œê³µ + ë²•ì  ì˜ë¬´ |
| **ë¡œê·¸** (Access, Error) | 1ë…„ | ë³´ì•ˆ + ê°ì‚¬ |
| **AI ì—…ë¡œë“œ íŒŒì¼** | 7~30ì¼ | ì„œë¹„ìŠ¤ ì œê³µ |
| **ì‹œí—˜ ì„±ì ** | 5ë…„ (ìµëª…í™” í›„ ë³´ì¡´) | êµìœ¡ ê¸°ë¡ ë³´ì¡´ |

```python
@app.on_event("startup")
@repeat_every(seconds=86400)  # 1ì¼ë§ˆë‹¤
async def enforce_gdpr_retention():
    """GDPR ë³´ì¡´ ê¸°ê°„ ìë™ ì ìš©"""
    
    # PII 3ë…„ í›„ ì‚­ì œ
    await db.execute(
        """
        UPDATE users SET
            email = 'deleted_' || id || '@gdpr.local',
            phone_encrypted = NULL,
            name = 'GDPR Deleted User',
            gdpr_deleted_at = NOW()
        WHERE created_at < NOW() - INTERVAL '3 years'
          AND gdpr_deleted_at IS NULL
        """
    )
    
    # ë¡œê·¸ 1ë…„ í›„ ì‚­ì œ
    await db.execute(
        "DELETE FROM audit_log WHERE created_at < NOW() - INTERVAL '1 year'"
    )
    
    # AI ì—…ë¡œë“œ íŒŒì¼ 30ì¼ í›„ ì‚­ì œ
    await r2_client.delete_objects_older_than("/tmp/ai/", days=30)
```

### 2.2.4 ì‚¬ìš©ì ê¶Œë¦¬ (GDPR Chapter III)

#### Right to Access (Article 15)

```python
@app.get("/api/v1/gdpr/access")
async def gdpr_right_to_access(user: User = Depends(get_current_user)):
    """GDPR Article 15: Right to Access"""
    data = {
        "personal_info": {
            "email": user.email,
            "name": user.name,
            "phone": await decrypt_phone(user.id),
            "role": user.role,
            "created_at": user.created_at.isoformat()
        },
        "processing_purposes": [
            "Educational service provision",
            "AI-powered tutoring",
            "Exam management"
        ],
        "data_categories": ["Identity", "Contact", "Academic records", "AI usage logs"],
        "recipients": ["DreamSeedAI", "Cloudflare (CDN)", "AWS (Cloud storage)"],
        "retention_period": "3 years from account creation",
        "rights": [
            "Right to rectification (Article 16)",
            "Right to erasure (Article 17)",
            "Right to restrict processing (Article 18)",
            "Right to data portability (Article 20)"
        ],
        "exam_history": await get_exam_attempts(user.id),
        "ai_usage": await get_ai_requests(user.id),
        "audit_log": await get_audit_logs(user.id, last_n=100)
    }
    
    return JSONResponse(
        content=data,
        headers={"Content-Disposition": "attachment; filename=gdpr_data_access.json"}
    )
```

#### Right to Erasure (Article 17 - "Right to be Forgotten")

```python
@app.delete("/api/v1/gdpr/erasure")
async def gdpr_right_to_erasure(user: User = Depends(get_current_user)):
    """GDPR Article 17: Right to Erasure"""
    
    # 1. PII ì‚­ì œ/ìµëª…í™”
    await db.execute(
        """
        UPDATE users SET
            email = 'erased_' || id || '@gdpr.local',
            phone_encrypted = NULL,
            name = 'GDPR Erased User',
            gdpr_erased = TRUE,
            gdpr_erased_at = NOW()
        WHERE id = :id
        """,
        {"id": user.id}
    )
    
    # 2. Audit Log ìµëª…í™”
    await db.execute(
        "UPDATE audit_log SET user_id = NULL WHERE user_id = :id",
        {"id": user.id}
    )
    
    # 3. AI ì¶œë ¥ë¬¼ ì‚­ì œ
    await r2_client.delete_prefix(f"/users/{user.id}/")
    
    # 4. ì‹œí—˜ ë°ì´í„° ìµëª…í™” (í†µê³„ëŠ” ìœ ì§€ - Legitimate Interest)
    await db.execute(
        "UPDATE exam_attempts SET user_id = NULL, anonymized = TRUE WHERE user_id = :id",
        {"id": user.id}
    )
    
    # 5. ì‚­ì œ ì¦ëª…ì„œ ë°œê¸‰
    certificate = {
        "user_id": user.id,
        "email": user.email,
        "erased_at": datetime.now().isoformat(),
        "data_categories_erased": [
            "Personal identity",
            "Contact information",
            "AI usage logs",
            "Uploaded files"
        ],
        "retained_data": [
            "Anonymized exam statistics (GDPR Article 17(3)(d) - Public interest)"
        ]
    }
    
    return certificate
```

#### Right to Data Portability (Article 20)

```python
@app.get("/api/v1/gdpr/portability")
async def gdpr_right_to_portability(user: User = Depends(get_current_user)):
    """GDPR Article 20: Right to Data Portability"""
    
    # êµ¬ì¡°í™”ëœ ê¸°ê³„ íŒë… ê°€ëŠ¥ í˜•ì‹ (JSON)
    portable_data = {
        "user": {
            "email": user.email,
            "name": user.name,
            "role": user.role,
            "created_at": user.created_at.isoformat()
        },
        "exams": await get_exam_attempts_portable(user.id),
        "ai_conversations": await get_ai_conversations_portable(user.id),
        "learning_progress": await get_learning_progress(user.id)
    }
    
    return Response(
        content=json.dumps(portable_data, indent=2, ensure_ascii=False),
        media_type="application/json",
        headers={"Content-Disposition": "attachment; filename=gdpr_portable_data.json"}
    )
```

#### Right to Restrict Processing (Article 18)

```python
@app.post("/api/v1/gdpr/restrict-processing")
async def gdpr_restrict_processing(user: User = Depends(get_current_user)):
    """GDPR Article 18: Right to Restrict Processing"""
    
    await db.execute(
        "UPDATE users SET processing_restricted = TRUE WHERE id = :id",
        {"id": user.id}
    )
    
    # AI ê¸°ëŠ¥ ë¹„í™œì„±í™”
    await redis.setex(f"user:{user.id}:restricted", 86400 * 365, "true")
    
    return {"status": "restricted", "message": "Data processing restricted as per GDPR Article 18"}
```

### 2.2.5 DPIA (Data Protection Impact Assessment - Article 35)

ë‹¤ìŒ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ **ë°˜ë“œì‹œ DPIA ìˆ˜í–‰**:

```
âœ… DPIA í•„ìˆ˜ í•­ëª©:
   - ì–¼êµ´ ë¶„ì„ (PoseNet)
   - ìŒì„± ë¶„ì„ (Whisper)
   - Multi-modal AI ëª¨ë¸
   - ìœ„ì¹˜ ê¸°ë°˜ ì„œë¹„ìŠ¤
   - ëŒ€ê·œëª¨ í”„ë¡œíŒŒì¼ë§
```

#### DPIA í…œí”Œë¦¿

```markdown
# DPIA - K-Zone PoseNet Dance Analysis

**Date:** 2025-11-22  
**Assessor:** DreamSeedAI Data Protection Officer

## 1. Description
K-Zone Dance Lab uses PoseNet to analyze dance movements from video.

## 2. Personal Data Processed
- Video recording (temporary)
- Pose keypoints (33 landmarks)
- User ID (linked to account)

## 3. Purpose
Educational dance learning and scoring.

## 4. Legal Basis
- User consent (GDPR Article 6(1)(a))

## 5. Data Minimization
- Only pose keypoints stored (not video)
- Video deleted after 7 days

## 6. Risks
- Risk 1: Unauthorized access to video â†’ Mitigation: R2 private bucket + TLS
- Risk 2: Re-identification from pose data â†’ Mitigation: No facial landmarks stored

## 7. Safeguards
- Encryption at rest (R2 server-side encryption)
- Encryption in transit (TLS 1.3)
- Access control (user can only view own data)
- Auto-deletion (7 days)

## 8. Conclusion
Risks are minimal and adequately mitigated. Proceed with implementation.

**Approved by:** DPO (Data Protection Officer)
```

### 2.2.6 êµ­ì œ ë°ì´í„° ì „ì†¡ (International Transfer - Chapter V)

```python
# EU ì‚¬ìš©ìëŠ” EU ì €ì¥ì†Œ ì‚¬ìš©
if user.country in EU_COUNTRIES:
    storage_region = "eu-west-1"
    llm_endpoint = "https://dreamseed-eu.openai.azure.com"
else:
    storage_region = "us-east-1"
    llm_endpoint = "https://api.openai.com"

# Standard Contractual Clauses (SCC) ì ìš©
# Cloudflare, AWSì™€ SCC ì²´ê²° í•„ìš”
```

---

# ğŸ‡°ğŸ‡· 3. PIPA (ëŒ€í•œë¯¼êµ­ ê°œì¸ì •ë³´ë³´í˜¸ë²•)

í•œêµ­ ì‚¬ìš©ì ëŒ€ìƒ ì„œë¹„ìŠ¤ëŠ” **PIPAë¥¼ ì—„ê²©íˆ** ë”°ë¼ì•¼ í•©ë‹ˆë‹¤.

## 3.1 PIPA ê¸°ë³¸ ì›ì¹™

| ì›ì¹™ | ì„¤ëª… | DreamSeedAI êµ¬í˜„ |
|------|------|------------------|
| **ëª©ì  ì™¸ ì´ìš© ê¸ˆì§€** | ìˆ˜ì§‘ ëª©ì  ì™¸ ì‚¬ìš© ë¶ˆê°€ | í•™ìŠµ ëª©ì ë§Œ ì‚¬ìš© |
| **ìµœì†Œ ìˆ˜ì§‘** | í•„ìš”í•œ ì •ë³´ë§Œ ìˆ˜ì§‘ | ì´ë©”ì¼, ì—­í• ë§Œ ìˆ˜ì§‘ |
| **ìˆ˜íƒì‚¬ ê´€ë¦¬ ì˜ë¬´** | ì œ3ì ì²˜ë¦¬ ì‹œ ê³„ì•½ í•„ìš” | Cloudflare, AWS ê³„ì•½ |
| **ì²˜ë¦¬ë°©ì¹¨ ê³µê°œ ì˜ë¬´** | ì›¹ì‚¬ì´íŠ¸ì— ê²Œì‹œ | `/privacy-policy` í˜ì´ì§€ |
| **ì•ˆì „ì„± í™•ë³´ ì¡°ì¹˜** | ì•”í˜¸í™”, ì ‘ê·¼ì œì–´ | pgcrypto, RBAC, RLS |

## 3.2 DreamSeedAI PIPA ì¤€ìˆ˜ ì‚¬í•­

### 3.2.1 ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ ì €ì¥ ê¸ˆì§€ (ë²• ì œ24ì¡°ì˜2)

```python
# ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ ìˆ˜ì§‘ ì ˆëŒ€ ê¸ˆì§€
PROHIBITED_FIELDS = ["ssn", "jumin_number", "resident_registration_number"]

@app.post("/api/v1/auth/register")
async def register(request: RegisterRequest):
    # ì£¼ë¯¼ë²ˆí˜¸ ìˆ˜ì§‘ ì‹œë„ ì°¨ë‹¨
    for field in PROHIBITED_FIELDS:
        if hasattr(request, field):
            raise HTTPException(400, "PIPA ìœ„ë°˜: ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ ìˆ˜ì§‘ ê¸ˆì§€ (ë²• ì œ24ì¡°ì˜2)")
    
    user = await create_user(request)
    return {"user_id": user.id}
```

### 3.2.2 ê³ ìœ ì‹ë³„ì •ë³´ ì•”í˜¸í™” (ë²• ì œ24ì¡°)

```sql
-- íœ´ëŒ€í° ë²ˆí˜¸ ì•”í˜¸í™” (ê³ ìœ ì‹ë³„ì •ë³´)
CREATE EXTENSION IF NOT EXISTS pgcrypto;

ALTER TABLE users ADD COLUMN phone_encrypted BYTEA;

UPDATE users 
SET phone_encrypted = pgp_sym_encrypt(phone, current_setting('app.encryption_key'))
WHERE phone IS NOT NULL;
```

### 3.2.3 ê°œì¸ì •ë³´ ì˜í–¥í‰ê°€ (PIA - ë²• ì œ33ì¡°)

```
âœ… PIA ì‹¤ì‹œ ëŒ€ìƒ:
   - 5ë§Œ ëª… ì´ìƒ ì •ë³´ì£¼ì²´ ì •ë³´ ì²˜ë¦¬
   - ì£¼ë¯¼ë²ˆí˜¸, ì—¬ê¶Œë²ˆí˜¸, ë©´í—ˆë²ˆí˜¸ ë“± ê³ ìœ ì‹ë³„ì •ë³´ ì²˜ë¦¬
   - ë¯¼ê°ì •ë³´(ê±´ê°•, ìƒì²´ì¸ì‹ ë“±) ì²˜ë¦¬
```

### 3.2.4 ì œ3ì ì œê³µ ê¸°ë¡ (ë²• ì œ22ì¡°)

```python
# ì œ3ì ì œê³µ ê¸°ë¡ (5ë…„ ë³´ì¡´)
@app.post("/api/v1/data/share-with-third-party")
async def share_data_with_third_party(request: ThirdPartyShareRequest):
    # ì‚¬ìš©ì ë™ì˜ í™•ì¸
    consent = await db.fetchone(
        "SELECT * FROM third_party_consents WHERE user_id = :user_id AND recipient = :recipient",
        {"user_id": request.user_id, "recipient": request.recipient}
    )
    
    if not consent:
        raise HTTPException(403, "ì‚¬ìš©ì ë™ì˜ í•„ìš” (PIPA ë²• ì œ17ì¡°)")
    
    # ì œ3ì ì œê³µ ê¸°ë¡
    await db.execute(
        """
        INSERT INTO third_party_sharing_log (
            user_id, recipient, data_categories, purpose, shared_at, expires_at
        ) VALUES (:user_id, :recipient, :data_categories, :purpose, NOW(), :expires_at)
        """,
        {
            "user_id": request.user_id,
            "recipient": request.recipient,
            "data_categories": json.dumps(request.data_categories),
            "purpose": request.purpose,
            "expires_at": datetime.now() + timedelta(days=1825)  # 5ë…„ ë³´ì¡´
        }
    )
    
    return {"status": "shared"}
```

### 3.2.5 ë§Œ 14ì„¸ ë¯¸ë§Œ ë³´í˜¸ (ë²• ì œ22ì¡°)

```python
@app.post("/api/v1/auth/register")
async def register(request: RegisterRequest):
    # ë§Œ 14ì„¸ ë¯¸ë§Œ ì²´í¬
    age = calculate_age(request.birthdate)
    
    if age < 14:
        # ë²•ì •ëŒ€ë¦¬ì¸(í•™ë¶€ëª¨) ë™ì˜ í•„ìš”
        return {
            "status": "pending_parent_consent",
            "message": "ë§Œ 14ì„¸ ë¯¸ë§Œì€ ë²•ì •ëŒ€ë¦¬ì¸ ë™ì˜ê°€ í•„ìš”í•©ë‹ˆë‹¤ (PIPA ë²• ì œ22ì¡°)",
            "next_step": "parent_approval"
        }
    
    # ì¼ë°˜ íšŒì›ê°€ì… ì§„í–‰
    user = await create_user(request)
    return {"status": "success", "user_id": user.id}
```

---

# ğŸ‡ºğŸ‡¸ 4. COPPA (ë¯¸êµ­ ì•„ë™ ì˜¨ë¼ì¸ ê°œì¸ì •ë³´ ë³´í˜¸ë²•)

K-Zone, Phonics/Hangul í•™ìŠµ ê¸°ëŠ¥ ë“±ì€ **COPPA ì ìš© ê°€ëŠ¥**.

## 4.1 COPPA ê·œì • ìš”ì•½

| ìš”êµ¬ì‚¬í•­ | ì„¤ëª… | DreamSeedAI êµ¬í˜„ |
|---------|------|------------------|
| **13ì„¸ ë¯¸ë§Œ ë³´í˜¸ì ë™ì˜** | ì•„ë™ ì •ë³´ ìˆ˜ì§‘ ì‹œ ë¶€ëª¨ ë™ì˜ í•„ìˆ˜ | Parent-Student ì—°ê²° |
| **ê´‘ê³ /ì¶”ì  ê¸ˆì§€** | í–‰ë™ ê¸°ë°˜ ê´‘ê³  ê¸ˆì§€ | ê´‘ê³  ì—†ìŒ (êµìœ¡ ì„œë¹„ìŠ¤) |
| **ì‚­ì œ ìš”ì²­** | ë¶€ëª¨ ìš”ì²­ ì‹œ ì¦‰ì‹œ ì‚­ì œ | GDPR Right to Erasure êµ¬í˜„ |
| **ë³´ì•ˆ ì¡°ì¹˜** | ì•„ë™ ë°ì´í„° ë³´í˜¸ | ì•”í˜¸í™”, ì ‘ê·¼ì œì–´ |

## 4.2 DreamSeedAI COPPA ì¤€ìˆ˜ ì‚¬í•­

### 4.2.1 ë³´í˜¸ì ë™ì˜

```python
@app.post("/api/v1/auth/register-child")
async def register_child(request: ChildRegisterRequest):
    # 13ì„¸ ë¯¸ë§Œ ì²´í¬
    age = calculate_age(request.birthdate)
    
    if age < 13:
        # COPPA ì ìš©: ë³´í˜¸ì ë™ì˜ í•„ìˆ˜
        if not request.parent_email:
            raise HTTPException(400, "COPPA: Parent email required for children under 13")
        
        # ë³´í˜¸ìì—ê²Œ ìŠ¹ì¸ ìš”ì²­ ì´ë©”ì¼ ë°œì†¡
        approval_token = generate_approval_token()
        await send_email(
            to=request.parent_email,
            subject="[DreamSeedAI] Child Account Approval Required (COPPA)",
            body=f"Your child wants to create an account. Approve: {FRONTEND_URL}/approve/{approval_token}"
        )
        
        return {
            "status": "pending_parent_approval",
            "message": "Email sent to parent for approval (COPPA compliance)"
        }
    
    # 13ì„¸ ì´ìƒì€ ì¼ë°˜ íšŒì›ê°€ì…
    user = await create_user(request)
    return {"user_id": user.id}
```

### 4.2.2 ê´‘ê³ /ì¶”ì  ê¸ˆì§€

```python
# COPPA: 13ì„¸ ë¯¸ë§Œì€ í–‰ë™ ê¸°ë°˜ ê´‘ê³  ê¸ˆì§€
if user.age < 13:
    # ê´‘ê³  ID ìƒì„± ê¸ˆì§€
    # Google Analytics ë¹„í™œì„±í™”
    # ì œ3ì ì¿ í‚¤ ì°¨ë‹¨
    pass
```

### 4.2.3 ë³´í˜¸ì ì‚­ì œ ìš”ì²­

```python
@app.delete("/api/v1/coppa/delete-child-account")
async def delete_child_account(
    child_id: int,
    parent: User = Depends(get_current_user)
):
    # ë¶€ëª¨-ìë…€ ê´€ê³„ í™•ì¸
    link = await db.fetchone(
        "SELECT * FROM parent_student_links WHERE parent_id = :parent_id AND student_id = :child_id",
        {"parent_id": parent.id, "child_id": child_id}
    )
    
    if not link:
        raise HTTPException(403, "Not authorized to delete this account")
    
    # COPPA: ì¦‰ì‹œ ì‚­ì œ (30ì¼ ìœ ì˜ˆ ì—†ìŒ)
    await hard_delete_user(child_id)
    
    return {"status": "deleted", "message": "Child account deleted per COPPA request"}
```

---

# ğŸ“ 5. FERPA (ë¯¸êµ­ êµìœ¡ ê¸°ë¡ ë³´í˜¸ë²•)

ë¯¸êµ­ êµìœ¡ê¸°ê´€ê³¼ì˜ ì œíœ´, ê¸€ë¡œë²Œ í™•ì¥ ëŒ€ë¹„í•˜ì—¬ **FERPA ì¤€ìˆ˜**ê°€ í•„ìš”.

## 5.1 FERPA í•µì‹¬ ì‚¬í•­

| ìš”êµ¬ì‚¬í•­ | ì„¤ëª… | DreamSeedAI êµ¬í˜„ |
|---------|------|------------------|
| **êµìœ¡ ê¸°ë¡ ë³´í˜¸** | í•™ìƒ ì„±ì , ì‹œí—˜ ê²°ê³¼ ë³´í˜¸ | RLS, Parent-Student ì—°ê²° |
| **ì—´ëŒê¶Œ** | ë¶€ëª¨/í•™ìƒì—ê²Œ ì—´ëŒê¶Œ ë³´ì¥ | GDPR Right to Access êµ¬í˜„ |
| **ë™ì˜ ì—†ëŠ” ê³µê°œ ê¸ˆì§€** | ì œ3ì ê³µê°œ ì‹œ ë™ì˜ í•„ìš” | ì œ3ì ì œê³µ ê¸°ë¡ ì‹œìŠ¤í…œ |
| **ì •í™•ì„± ë³´ì¥** | ë¶€ì •í™•í•œ ì •ë³´ ì •ì • | Right to Rectification êµ¬í˜„ |

## 5.2 DreamSeedAI FERPA ì¤€ìˆ˜ ì‚¬í•­

### 5.2.1 êµìœ¡ ê¸°ë¡ ë¶„ë¥˜

```python
# FERPA ë³´í˜¸ ëŒ€ìƒ ë°ì´í„°
FERPA_PROTECTED_DATA = [
    "exam_attempts",      # ì‹œí—˜ ì‹œë„ ê¸°ë¡
    "exam_scores",        # ì„±ì 
    "learning_progress",  # í•™ìŠµ ì§„ë„
    "teacher_feedback",   # êµì‚¬ í”¼ë“œë°±
    "behavioral_records"  # í–‰ë™ ê¸°ë¡
]
```

### 5.2.2 ì ‘ê·¼ ì œì–´

```sql
-- FERPA RLS ì •ì±…: í•™ìƒ ì„±ì ì€ ë³¸ì¸ + ë¶€ëª¨ + êµì‚¬ë§Œ ì¡°íšŒ
CREATE POLICY ferpa_exam_scores_policy ON exam_attempts
FOR SELECT USING (
    auth.uid() = user_id  -- ë³¸ì¸
    OR auth.uid() IN (
        SELECT parent_id FROM parent_student_links 
        WHERE student_id = exam_attempts.user_id AND status = 'approved'
    )  -- ìŠ¹ì¸ëœ í•™ë¶€ëª¨
    OR auth.uid() IN (
        SELECT teacher_id FROM teacher_student_assignments 
        WHERE student_id = exam_attempts.user_id
    )  -- ë‹´ë‹¹ êµì‚¬
    OR EXISTS (
        SELECT 1 FROM users WHERE id = auth.uid() AND role = 'sys_admin'
    )  -- ì‹œìŠ¤í…œ ê´€ë¦¬ì (FERPA ì˜ˆì™¸)
);
```

### 5.2.3 ì œ3ì ê³µê°œ ì œí•œ

```python
@app.get("/api/v1/ferpa/student-records/{student_id}")
async def get_student_records(
    student_id: int,
    requester: User = Depends(get_current_user)
):
    # FERPA: ìŠ¹ì¸ëœ ê´€ê³„ìë§Œ ì¡°íšŒ ê°€ëŠ¥
    authorized = await check_ferpa_authorization(requester.id, student_id)
    
    if not authorized:
        raise HTTPException(403, "FERPA violation: Unauthorized access to education records")
    
    records = await get_student_educational_records(student_id)
    
    # FERPA ì ‘ê·¼ ë¡œê·¸ ê¸°ë¡
    await log_ferpa_access(requester.id, student_id, "view_records")
    
    return records
```

### 5.2.4 ì„±ì  ë°ì´í„° ë³´ì¡´

```python
@app.on_event("startup")
@repeat_every(seconds=86400)  # 1ì¼ë§ˆë‹¤
async def ferpa_retention():
    """FERPA: êµìœ¡ ê¸°ë¡ 5ë…„ ë³´ì¡´ í›„ ìµëª…í™”"""
    await db.execute(
        """
        UPDATE exam_attempts SET
            user_id = NULL,
            anonymized = TRUE,
            ferpa_anonymized_at = NOW()
        WHERE created_at < NOW() - INTERVAL '5 years'
          AND anonymized = FALSE
        """
    )
```

---

# ğŸ‡ºğŸ‡¸ 6. CCPA (ìº˜ë¦¬í¬ë‹ˆì•„ ì†Œë¹„ì í”„ë¼ì´ë²„ì‹œ ë²•)

## 6.1 CCPA ê¶Œë¦¬ (GDPRê³¼ ìœ ì‚¬)

| ê¶Œë¦¬ | ì„¤ëª… | DreamSeedAI êµ¬í˜„ |
|------|------|------------------|
| **Right to Know** | ìˆ˜ì§‘ ì •ë³´ ì•Œ ê¶Œë¦¬ | GDPR Right to Access ì¬ì‚¬ìš© |
| **Right to Delete** | ì‚­ì œ ìš”ì²­ ê¶Œë¦¬ | GDPR Right to Erasure ì¬ì‚¬ìš© |
| **Right to Opt-out** | íŒë§¤ ê±°ë¶€ ê¶Œë¦¬ | ê°œì¸ì •ë³´ íŒë§¤ ì—†ìŒ (N/A) |
| **Non-discrimination** | ê¶Œë¦¬ í–‰ì‚¬ ì‹œ ì°¨ë³„ ê¸ˆì§€ | ì„œë¹„ìŠ¤ ë™ì¼í•˜ê²Œ ì œê³µ |

## 6.2 DreamSeedAI CCPA ëŒ€ì‘

### 6.2.1 ê°œì¸ì •ë³´ íŒë§¤ ì—†ìŒ

```python
# CCPA: DreamSeedAIëŠ” ê°œì¸ì •ë³´ë¥¼ ì œ3ìì—ê²Œ íŒë§¤í•˜ì§€ ì•ŠìŒ
# "Do Not Sell My Personal Information" ì˜µíŠ¸ì•„ì›ƒ ë¶ˆí•„ìš”

# Privacy Policyì— ëª…ì‹œ:
"""
DreamSeedAI does not sell personal information to third parties.
We do not share data with advertisers or data brokers.
"""
```

### 6.2.2 ì‚­ì œ ìš”ì²­ ì²˜ë¦¬ (30ì¼ ì´ë‚´)

```python
@app.delete("/api/v1/ccpa/delete")
async def ccpa_delete_request(user: User = Depends(get_current_user)):
    """CCPA: ì‚­ì œ ìš”ì²­ (30ì¼ ì´ë‚´ ì²˜ë¦¬)"""
    
    # ì‚­ì œ ìš”ì²­ ê¸°ë¡
    await db.execute(
        """
        INSERT INTO deletion_requests (user_id, request_type, status, requested_at)
        VALUES (:user_id, 'ccpa', 'pending', NOW())
        """,
        {"user_id": user.id}
    )
    
    # ì¦‰ì‹œ ì²˜ë¦¬ (GDPRê³¼ ë™ì¼)
    await gdpr_right_to_erasure(user)
    
    return {
        "status": "deleted",
        "message": "Account deleted per CCPA request (processed within 30 days)"
    }
```

---

# ğŸ”’ 7. Security Controls (ë³´ì•ˆ ì¡°ê±´)

## 7.1 ì•”í˜¸í™” (Encryption)

### 7.1.1 At-rest Encryption

```bash
# LUKS ë³¼ë¥¨ ì•”í˜¸í™”
cryptsetup luksFormat /dev/sdb
cryptsetup open /dev/sdb pgdata
mkfs.ext4 /dev/mapper/pgdata
mount /dev/mapper/pgdata /var/lib/postgresql/data
```

```yaml
# PostgreSQL TDE (Transparent Data Encryption)
# pgcrypto for column-level encryption
CREATE EXTENSION pgcrypto;

ALTER TABLE users ADD COLUMN phone_encrypted BYTEA;
UPDATE users SET phone_encrypted = pgp_sym_encrypt(phone, 'encryption_key');
```

### 7.1.2 In-transit Encryption

```yaml
# PostgreSQL SSL
ssl = on
ssl_cert_file = '/etc/ssl/certs/server.crt'
ssl_key_file = '/etc/ssl/private/server.key'
ssl_min_protocol_version = 'TLSv1.2'

# Nginx TLS 1.2+
ssl_protocols TLSv1.2 TLSv1.3;
ssl_ciphers 'ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256';
```

### 7.1.3 Column-level Encryption

```sql
-- PII ì»¬ëŸ¼ ì•”í˜¸í™”
CREATE OR REPLACE FUNCTION encrypt_pii(data TEXT)
RETURNS BYTEA AS $$
BEGIN
    RETURN pgp_sym_encrypt(data, current_setting('app.encryption_key'));
END;
$$ LANGUAGE plpgsql;

-- ë³µí˜¸í™” í•¨ìˆ˜
CREATE OR REPLACE FUNCTION decrypt_pii(encrypted_data BYTEA)
RETURNS TEXT AS $$
BEGIN
    RETURN pgp_sym_decrypt(encrypted_data, current_setting('app.encryption_key'));
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;
```

## 7.2 ì ‘ê·¼ ì œì–´ (Access Control)

### 7.2.1 RBAC + PBAC + RLS

```python
# RBAC (Role-Based Access Control)
ROLES = ["student", "parent", "teacher", "org_admin", "zone_admin", "sys_admin"]

# PBAC (Policy-Based Access Control)
if exam.active and user.role == "student":
    deny(ai_tutor_access)

# RLS (Row-Level Security)
CREATE POLICY student_data_policy ON users
FOR SELECT USING (id = auth.uid() OR auth.uid() IN (SELECT parent_id FROM parent_student_links));
```

### 7.2.2 Admin ê¶Œí•œ ì¬ê²€ì¦ (ì›” 1íšŒ)

```python
@app.on_event("startup")
@repeat_every(seconds=2592000)  # 30ì¼ë§ˆë‹¤
async def revalidate_admin_access():
    """Admin ê¶Œí•œ ì¬ê²€ì¦"""
    admins = await db.fetch_all("SELECT * FROM users WHERE role IN ('sys_admin', 'zone_admin')")
    
    for admin in admins:
        # CTO/VP ìŠ¹ì¸ ìš”ì²­
        await send_email(
            to="cto@dreamseedai.com",
            subject=f"[Compliance] Admin Access Re-approval: {admin.email}",
            body=f"Please re-approve admin access for {admin.email}. Expires in 7 days."
        )
```

## 7.3 ë¡œê¹…/ê°ì‚¬ (Audit)

### 7.3.1 Audit Log ë³´ì¡´

```python
@app.on_event("startup")
@repeat_every(seconds=86400)  # 1ì¼ë§ˆë‹¤
async def audit_log_retention():
    """Audit Log 1ë…„ ë³´ì¡´"""
    
    # 1ë…„ ì´ìƒ ëœ ì¼ë°˜ ë¡œê·¸ ì‚­ì œ
    await db.execute(
        "DELETE FROM audit_log WHERE created_at < NOW() - INTERVAL '1 year' AND action NOT IN ('login', 'grant_role')"
    )
    
    # 2ë…„ ì´ìƒ ëœ ë³´ì•ˆ ë¡œê·¸ ì‚­ì œ
    await db.execute(
        "DELETE FROM audit_log WHERE created_at < NOW() - INTERVAL '2 years'"
    )
```

### 7.3.2 PII ìµëª…í™” í›„ ì „ì†¡

```python
def anonymize_audit_log(log: dict) -> dict:
    """EU ì‚¬ìš©ì Audit Log ìµëª…í™”"""
    if log["user_country"] in EU_COUNTRIES:
        log["user_id"] = hash_user_id(log["user_id"])  # í•´ì‹œí™”
        log["ip_address"] = mask_ip(log["ip_address"])  # ë§ˆìŠ¤í‚¹
    
    return log
```

---

# ğŸ§¬ 8. Data Lifecycle Management

## 8.1 ìˆ˜ì§‘ (Collection)

```python
# ìµœì†Œ ì •ë³´ ìˆ˜ì§‘
REQUIRED_FIELDS = {"email", "password", "name", "role"}

# ë¯¼ê°ì •ë³´ëŠ” Opt-in
SENSITIVE_FIELDS = {"phone", "address", "birthdate"}

@app.post("/api/v1/auth/register")
async def register(request: RegisterRequest):
    # ë¯¼ê°ì •ë³´ ìˆ˜ì§‘ ì‹œ ë™ì˜ í™•ì¸
    if request.phone and not request.consent_phone:
        raise HTTPException(400, "Phone collection requires consent")
    
    user = await create_user(request)
    return {"user_id": user.id}
```

## 8.2 ì €ì¥ (Storage)

```python
# Cloudflare R2 (Private Bucket)
await r2_client.upload(
    key=f"users/{user_id}/profile.jpg",
    body=file,
    acl="private"  # ë¹„ê³µê°œ
)

# Cold Storage â†’ Backblaze B2
await b2_client.upload(
    key=f"archive/{user_id}/old_data.json",
    body=data,
    storage_class="GLACIER"  # ì¥ê¸° ë³´ì¡´
)
```

## 8.3 ì²˜ë¦¬ (Processing)

```python
@app.on_event("startup")
@repeat_every(seconds=86400)  # 1ì¼ë§ˆë‹¤
async def cleanup_ai_temp_files():
    """AI ì²˜ë¦¬ íŒŒì¼ 24~72ì‹œê°„ í›„ ìë™ ì‚­ì œ"""
    
    # Whisper ì„ì‹œ íŒŒì¼ ì‚­ì œ (72ì‹œê°„)
    await r2_client.delete_objects_older_than("/tmp/whisper/", days=3)
    
    # PoseNet ì„ì‹œ íŒŒì¼ ì‚­ì œ (24ì‹œê°„)
    await r2_client.delete_objects_older_than("/tmp/posenet/", days=1)
```

## 8.4 ë³´ì¡´ (Retention)

| ë°ì´í„° ìœ í˜• | ë³´ì¡´ ê¸°ê°„ | ë²•ì  ê·¼ê±° |
|------------|----------|----------|
| **PII** | 3ë…„ | GDPR, PIPA |
| **ë¡œê·¸** | 1ë…„ | ë³´ì•ˆ ê°ì‚¬ |
| **í•™ìŠµ ë°ì´í„° (ë¹„PII)** | ì¥ê¸° ë³´ì¡´ ê°€ëŠ¥ | ì„œë¹„ìŠ¤ ê°œì„  |
| **ì‹œí—˜ ì„±ì ** | 5ë…„ (ìµëª…í™” í›„) | FERPA |

## 8.5 ì‚­ì œ (Erasure)

```python
@app.delete("/api/v1/account/delete")
async def delete_account(user: User = Depends(get_current_user)):
    """ê³„ì • ì‚­ì œ (Soft-delete â†’ 30ì¼ í›„ Hard-delete)"""
    
    # 1. Soft-delete (ì¦‰ì‹œ)
    await db.execute(
        "UPDATE users SET deleted_at = NOW(), deleted = TRUE WHERE id = :id",
        {"id": user.id}
    )
    
    # 2. 30ì¼ ìœ ì˜ˆ ê¸°ê°„ (ë³µêµ¬ ê°€ëŠ¥)
    await schedule_hard_delete(user.id, days=30)
    
    return {"status": "scheduled_for_deletion", "hard_delete_at": datetime.now() + timedelta(days=30)}

@app.on_event("startup")
@repeat_every(seconds=86400)  # 1ì¼ë§ˆë‹¤
async def hard_delete_expired_accounts():
    """30ì¼ ê²½ê³¼ ê³„ì • Hard-delete"""
    await db.execute(
        """
        DELETE FROM users 
        WHERE deleted = TRUE 
          AND deleted_at < NOW() - INTERVAL '30 days'
        """
    )
```

---

# ğŸ¤– 9. AI Compliance

## 9.1 AI Safety Layer

```python
# ìš•ì„¤/í­ë ¥/í˜ì˜¤ ìë™ í•„í„°ë§
from transformers import pipeline

toxicity_detector = pipeline("text-classification", model="unitary/toxic-bert")

async def check_ai_safety(text: str) -> dict:
    result = toxicity_detector(text)[0]
    
    if result["label"] == "toxic" and result["score"] > 0.7:
        return {"is_safe": False, "reason": "Toxic content detected"}
    
    return {"is_safe": True}
```

## 9.2 AI Fairness

```python
# í¸í–¥ íƒì§€
bias_detector = pipeline("text-classification", model="unbiased/bias-detection")

async def check_ai_bias(text: str) -> dict:
    result = bias_detector(text)[0]
    
    if result["label"] == "biased" and result["score"] > 0.7:
        await log_ai_safety_issue("bias_detected", text)
        return {"is_biased": True}
    
    return {"is_biased": False}
```

## 9.3 ëª¨ë¸ êµì²´ DPIA

```markdown
# DPIA - vLLM Model Upgrade (Qwen2.5-32B â†’ Qwen2.5-72B)

## 1. Impact
- Larger model may generate more complex responses
- Potential for increased bias in certain domains

## 2. Mitigation
- Blue-Green deployment (instant rollback)
- Bias testing on educational datasets
- 48-hour monitoring before full rollout

## 3. Approval
- AI Lead: âœ…
- DPO: âœ…
```

---

# ğŸ“ 10. User Rights Handling (ê¶Œë¦¬ í–‰ì‚¬ ì²˜ë¦¬ í”„ë¡œì„¸ìŠ¤)

## 10.1 ìš”ì²­ ì ˆì°¨

ì‚¬ìš©ìëŠ” ë‹¤ìŒ í•­ëª©ì— ëŒ€í•´ ìš”ì²­ ê°€ëŠ¥:

```
âœ… Access (ì—´ëŒ) â†’ 30ì¼ ì´ë‚´ ì œê³µ
âœ… Correction (ì •ì •) â†’ ì¦‰ì‹œ ì²˜ë¦¬
âœ… Deletion (ì‚­ì œ) â†’ ì¦‰ì‹œ Soft-delete, 30ì¼ í›„ Hard-delete
âœ… Export (ì´ë™) â†’ ì¦‰ì‹œ ì œê³µ (JSON)
âœ… Restriction (ì²˜ë¦¬ ì œí•œ) â†’ ì¦‰ì‹œ ì ìš©
```

## 10.2 ìš”ì²­ ê²€ì¦

```python
@app.post("/api/v1/data-rights/request")
async def submit_data_rights_request(
    request: DataRightsRequest,
    user: User = Depends(get_current_user)
):
    # ë³¸ì¸ í™•ì¸ (2FA)
    if request.request_type in ["deletion", "restriction"]:
        if not request.totp_code:
            raise HTTPException(400, "2FA required for sensitive requests")
        
        if not verify_totp(user.totp_secret, request.totp_code):
            raise HTTPException(403, "Invalid 2FA code")
    
    # ìš”ì²­ ê¸°ë¡
    rights_request = await db.execute(
        """
        INSERT INTO data_rights_requests (user_id, request_type, status, requested_at)
        VALUES (:user_id, :type, 'pending', NOW())
        RETURNING *
        """,
        {"user_id": user.id, "type": request.request_type}
    )
    
    # ì²˜ë¦¬ (ëŒ€ë¶€ë¶„ ì¦‰ì‹œ)
    if request.request_type == "access":
        data = await gdpr_right_to_access(user)
        await db.execute(
            "UPDATE data_rights_requests SET status = 'completed', completed_at = NOW() WHERE id = :id",
            {"id": rights_request.id}
        )
        return data
    
    elif request.request_type == "deletion":
        await gdpr_right_to_erasure(user)
        return {"status": "deleted"}
    
    # ... (ê¸°íƒ€ ê¶Œë¦¬)
```

## 10.3 ì²˜ë¦¬ SLA

| ê¶Œë¦¬ | GDPR SLA | CCPA SLA | DreamSeedAI SLA |
|------|---------|---------|-----------------|
| **Access** | 1ê°œì›” | N/A | ì¦‰ì‹œ |
| **Deletion** | 1ê°œì›” | 45ì¼ | ì¦‰ì‹œ (Soft) + 30ì¼ (Hard) |
| **Portability** | 1ê°œì›” | N/A | ì¦‰ì‹œ |
| **Restriction** | ì¦‰ì‹œ | N/A | ì¦‰ì‹œ |

---

# ğŸ§¾ 11. Documentation & Evidence (ë¬¸ì„œí™” ë° ì¦ê±°)

## 11.1 Compliance ë¬¸ì„œ ì €ì¥

ê·œì œ ì¤€ìˆ˜ ì¦ê±°(Evidence)ëŠ” ë‹¤ìŒ ê²½ë¡œì— ì €ì¥:

```
/docs/compliance/
  â”œâ”€â”€ gdpr/
  â”‚   â”œâ”€â”€ dpia_posenet.md
  â”‚   â”œâ”€â”€ dpia_whisper.md
  â”‚   â”œâ”€â”€ scc_cloudflare.pdf
  â”‚   â””â”€â”€ scc_aws.pdf
  â”œâ”€â”€ pipa/
  â”‚   â”œâ”€â”€ pia_report_2025.pdf
  â”‚   â”œâ”€â”€ third_party_agreements/
  â”‚   â””â”€â”€ consent_records/
  â”œâ”€â”€ coppa/
  â”‚   â”œâ”€â”€ parent_consent_logs.csv
  â”‚   â””â”€â”€ child_account_policies.md
  â”œâ”€â”€ ferpa/
  â”‚   â”œâ”€â”€ ferpa_compliance_checklist.md
  â”‚   â””â”€â”€ access_logs/
  â””â”€â”€ ccpa/
      â”œâ”€â”€ do_not_sell_policy.md
      â””â”€â”€ deletion_requests/

/docs/audit/
  â”œâ”€â”€ 2025_q1_compliance_audit.pdf
  â”œâ”€â”€ 2025_q2_compliance_audit.pdf
  â””â”€â”€ annual_compliance_report_2025.pdf
```

## 11.2 ë³€ê²½ ì´ë ¥ ê´€ë¦¬

```markdown
# Compliance Policy Change Log

## v1.2 (2025-11-22)
- GDPR DPIA ì¶”ê°€: K-Zone PoseNet
- PIPA ë§Œ 14ì„¸ ë¯¸ë§Œ ë³´í˜¸ ê°•í™”
- COPPA ë³´í˜¸ì ë™ì˜ í”„ë¡œì„¸ìŠ¤ ê°œì„ 

## v1.1 (2025-10-15)
- FERPA RLS ì •ì±… ì ìš©
- CCPA ì‚­ì œ ìš”ì²­ 30ì¼ SLA ì„¤ì •

## v1.0 (2025-09-01)
- ì´ˆê¸° Compliance Framework ìˆ˜ë¦½
```

## 11.3 ì—°ë¡€ Compliance Review

```
âœ… ì—° 1íšŒ Compliance Review í•„ìˆ˜
   - ëª¨ë“  ì •ì±… ë¬¸ì„œ ê²€í† 
   - DPIA ì—…ë°ì´íŠ¸
   - ì œ3ì ê³„ì•½ ê°±ì‹ 
   - Audit Log ë¶„ì„
   - ìœ„ë°˜ ì‚¬í•­ í™•ì¸

âœ… ë¶„ê¸°ë³„ Internal Audit
   - ë³´ì•ˆ ì¡°ì¹˜ ì ê²€
   - ì•”í˜¸í™” ìƒíƒœ í™•ì¸
   - ì ‘ê·¼ ì œì–´ ê²€ì¦
```

---

# ğŸ 12. ê²°ë¡ 

ì´ **Global Compliance Manual**ì€ DreamSeedAI MegaCityì˜ ëª¨ë“  Zoneê³¼ ê¸°ëŠ¥ì´ **êµ­ë‚´(PIPA) Â· êµ­ì œ(GDPR) Â· ì•„ë™(COPPA) Â· êµìœ¡(FERPA) Â· ì§€ì—­(CCPA)** ê·œì •ì„ ëª¨ë‘ ì¤€ìˆ˜í•˜ë„ë¡ ë³´ì•ˆÂ·ë°ì´í„°Â·AIÂ·ì •ì±…Â·ìš´ì˜ì„ í†µí•©í•œ **ê°€ì¥ ì¤‘ìš”í•œ ì¤€ìˆ˜ ê¸°ì¤€ ë¬¸ì„œ**ì…ë‹ˆë‹¤.

## Compliance ì¤€ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸

```
â–¡ GDPR (EU)
  â–¡ ìµœì†Œ ìˆ˜ì§‘ ì›ì¹™ ì ìš©
  â–¡ ëª…í™•í•œ ë™ì˜ íšë“
  â–¡ DPIA ìˆ˜í–‰ (ì–¼êµ´/ìŒì„± ë¶„ì„)
  â–¡ ì‚¬ìš©ì ê¶Œë¦¬ API êµ¬í˜„ (Access, Erasure, Portability, Restriction)
  â–¡ êµ­ì œ ë°ì´í„° ì „ì†¡ SCC ì²´ê²°
  â–¡ ë³´ì¡´ ê¸°ê°„ ì¤€ìˆ˜ (PII 3ë…„, Logs 1ë…„)

â–¡ PIPA (í•œêµ­)
  â–¡ ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ ìˆ˜ì§‘ ê¸ˆì§€
  â–¡ ê³ ìœ ì‹ë³„ì •ë³´ ì•”í˜¸í™” (pgcrypto)
  â–¡ ë§Œ 14ì„¸ ë¯¸ë§Œ ë²•ì •ëŒ€ë¦¬ì¸ ë™ì˜
  â–¡ ì œ3ì ì œê³µ ê¸°ë¡ (5ë…„ ë³´ì¡´)
  â–¡ ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨ ê³µê°œ

â–¡ COPPA (ë¯¸êµ­ ì•„ë™)
  â–¡ 13ì„¸ ë¯¸ë§Œ ë³´í˜¸ì ë™ì˜
  â–¡ ê´‘ê³ /ì¶”ì  ê¸ˆì§€
  â–¡ ì¦‰ì‹œ ì‚­ì œ ìš”ì²­ ì²˜ë¦¬

â–¡ FERPA (ë¯¸êµ­ êµìœ¡)
  â–¡ êµìœ¡ ê¸°ë¡ RLS ì •ì±… ì ìš©
  â–¡ Parent-Student ì—°ê²° ê¸°ë°˜ ì ‘ê·¼ ì œì–´
  â–¡ 5ë…„ ë³´ì¡´ í›„ ìµëª…í™”

â–¡ CCPA (ìº˜ë¦¬í¬ë‹ˆì•„)
  â–¡ ê°œì¸ì •ë³´ íŒë§¤ ì—†ìŒ (ëª…ì‹œ)
  â–¡ ì‚­ì œ ìš”ì²­ 30ì¼ ì´ë‚´ ì²˜ë¦¬

â–¡ ë³´ì•ˆ ì¡°ì¹˜
  â–¡ ì•”í˜¸í™” (At-rest: LUKS, In-transit: TLS 1.2+, Column: pgcrypto)
  â–¡ ì ‘ê·¼ ì œì–´ (RBAC, PBAC, RLS)
  â–¡ Audit Log 1ë…„ ë³´ì¡´

â–¡ AI Compliance
  â–¡ AI Safety Layer (ìš•ì„¤/í­ë ¥/í˜ì˜¤ í•„í„°)
  â–¡ AI Fairness (í¸í–¥ íƒì§€)
  â–¡ ëª¨ë¸ êµì²´ DPIA

â–¡ ë¬¸ì„œí™”
  â–¡ DPIA ë¬¸ì„œ ì‘ì„± ë° ë³´ê´€
  â–¡ ì œ3ì ê³„ì•½ì„œ ë³´ê´€
  â–¡ ì—°ë¡€ Compliance Review ì‹¤ì‹œ
```

MegaCityê°€ **ê¸€ë¡œë²Œ êµìœ¡Â·ë¬¸í™” í”Œë«í¼**ìœ¼ë¡œ í™•ì¥ë  ë•Œë„ ì´ Compliance Manualì´ **ê·œì • ê¸°ë°˜ ì„±ì¥**ì„ ë’·ë°›ì¹¨í•˜ê²Œ ë©ë‹ˆë‹¤.

---

**ë¬¸ì„œ ì™„ë£Œ - DreamSeedAI MegaCity Global Compliance Manual v1.0**
