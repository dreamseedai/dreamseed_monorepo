# Guard-Window Briefing Environment Configuration
# This file should be managed by SOPS/Vault in production

# Slack Configuration
SLACK_BOT_TOKEN={{ slack_bot_token | default('xoxb-REPLACE_ME') }}
SLACK_CHANNEL_ID={{ slack_channel_id | default('C0123456789') }}
THREAD_TS={{ thread_ts | default('1699999999.000000') }}

# Monitoring Endpoints
PROM_URL={{ prometheus_url | default('http://prometheus.local:9090') }}
LOKI_URL={{ loki_url | default('http://loki.local:3100') }}

# Optional Dashboard Links (plain URLs)
# If set, these will be appended to the Slack message as clickable links
GRAFANA_PANEL_URL={{ grafana_panel_url | default('') }}
PROM_DASH_URL={{ prometheus_dash_url | default('') }}
LOKI_EXPLORE_URL={{ loki_explore_url | default('') }}
SLO_DASH_URL={{ slo_dash_url | default('') }}
SLA_DASH_URL={{ sla_dash_url | default('') }}
JVM_DASH_URL={{ jvm_dash_url | default('') }}
DB_DASH_URL={{ db_dash_url | default('') }}

# SLO Configuration
WINDOW={{ slo_window | default('15m') }}
JOB={{ threader_job | default('threader') }}
MAX_5XX_RATIO={{ max_5xx_ratio | default('0.01') }}
MIN_HEALTH_RATIO={{ min_health_ratio | default('0.995') }}
MAX_ERROR_LOGS_PER_MIN={{ max_error_logs_per_min | default('1') }}

# Ticket Creation (Optional)
JIRA_ENABLED={{ jira_enabled | default('false') }}
JIRA_BASE={{ jira_base | default('https://your.atlassian.net') }}
JIRA_USER={{ jira_user | default('email@domain.com') }}
JIRA_TOKEN={{ jira_token | default('REPLACE_ME') }}
JIRA_PROJECT={{ jira_project | default('OPS') }}
JIRA_ISSUE_TYPE={{ jira_issue_type | default('Bug') }}
JIRA_PRIORITY={{ jira_priority | default('High') }}
JIRA_LABELS={{ jira_labels | default('slo-breach,auto-generated') }}

GITHUB_ISSUE_ENABLED={{ github_issue_enabled | default('false') }}
GH_REPO={{ gh_repo | default('owner/repo') }}
GH_TOKEN={{ gh_token | default('REPLACE_ME') }}
GH_LABELS={{ gh_labels | default('slo-breach,auto-generated') }}
GH_ASSIGNEES={{ gh_assignees | default('') }}

# Example Dashboard URLs (uncomment and customize as needed):
# GRAFANA_PANEL_URL=https://grafana.example.com/d/threader-dashboard/threader-overview?orgId=1&refresh=5m
# PROM_DASH_URL=https://prometheus.example.com/graph?g0.expr=up%7Bjob%3D%22threader%22%7D&g0.tab=0
# LOKI_EXPLORE_URL=https://loki.example.com/explore?left=%5B%22now-1h%22%2C%22now%22%2C%22Loki%22%2C%7B%22expr%22%3A%22%7Bjob%3D%5C%22threader%5C%22%7D%22%7D%5D
# SLO_DASH_URL=https://grafana.example.com/d/slo123/slo-dashboard
# SLA_DASH_URL=https://grafana.example.com/d/sla456/sla-dashboard
# JVM_DASH_URL=https://grafana.example.com/d/jvm789/jvm-dashboard
# DB_DASH_URL=https://grafana.example.com/d/db012/db-dashboard
