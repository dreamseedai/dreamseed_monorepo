# Phase 2.0 - Aptitude & Interest Assessment (ì ì„±/í¥ë¯¸ ê²€ì‚¬)

**Date:** November 24, 2025  
**Status:** ğŸ“‹ Planning (Implementation: Phase 2.0)  
**Priority:** ğŸŸª **CORE FEATURE** - Equal to Academic CAT  

---

## ğŸ¯ Strategic Positioning

### DreamSeed AI = Two Core Pillars

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DreamSeed AI Platform                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ğŸ§® Pillar 1: Academic Achievement                         â”‚
â”‚     â””â”€ CAT/IRT Adaptive Testing                            â”‚
â”‚        â””â”€ Math, English, Science                           â”‚
â”‚        â””â”€ Ability estimation (Î¸)                           â”‚
â”‚        â””â”€ Diagnostic feedback                              â”‚
â”‚                                                             â”‚
â”‚  ğŸ¨ Pillar 2: Aptitude & Interest Profiling               â”‚
â”‚     â””â”€ Career/Major Guidance                               â”‚
â”‚        â””â”€ STEM vs Humanities vs Arts                       â”‚
â”‚        â””â”€ Learning style preferences                       â”‚
â”‚        â””â”€ Interest/personality dimensions                  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Why This Matters:**
- Academic tests only measure **what students know**
- Aptitude tests reveal **what students are good at**
- Interest surveys show **what students enjoy**
- Combined â†’ **Personalized career/major recommendations**

**Phase Timeline:**
- Phase 1.0: Math CAT only (Academic pillar foundation)
- Phase 1.5: English/Science CAT (Academic pillar complete)
- **Phase 2.0: Aptitude Assessment (Second pillar launch)** â¬…ï¸ THIS
- Phase 2.5: Combined insights (Both pillars integrated)

---

## ğŸ“Š Aptitude Dimensions Framework

### Proposed Dimension Model

DreamSeed AI will use a **hybrid model** combining:
- Holland Code (RIASEC) - Career interests
- Big Five - Personality traits
- STEM/Non-STEM aptitude - Academic strengths
- Learning style preferences - Study habits

**Core Dimensions (v1):**

| Dimension | Range | Description | Example Questions |
|-----------|-------|-------------|-------------------|
| **STEM_interest** | -1 to +1 | ì´ê³µê³„ í¥ë¯¸ë„ | "ìˆ˜í•™ ë¬¸ì œ í’€ê¸°ê°€ ì¦ê²ë‹¤" |
| **Verbal_aptitude** | -1 to +1 | ì–¸ì–´ì  ì‚¬ê³ ë ¥ | "ê¸€ì“°ê¸°ë¡œ ìƒê°ì„ í‘œí˜„í•˜ëŠ” ê²Œ í¸í•˜ë‹¤" |
| **Artistic_creativity** | -1 to +1 | ì˜ˆìˆ ì  ì°½ì˜ì„± | "ìƒˆë¡œìš´ ë””ìì¸/ì‘í’ˆì„ ë§Œë“œëŠ” ê²Œ ì¢‹ë‹¤" |
| **Social_orientation** | -1 to +1 | ì‚¬íšŒì  ì§€í–¥ì„± | "ì‚¬ëŒë“¤ê³¼ í•¨ê»˜ ì¼í•˜ëŠ” ê²Œ ì¢‹ë‹¤" |
| **Practical_hands_on** | -1 to +1 | ì‹¤ë¬´/ì‹¤ìŠµ ì„ í˜¸ | "ì‹¤ì œë¡œ ë§Œë“¤ì–´ë³´ëŠ” í™œë™ì´ ì¢‹ë‹¤" |
| **Logical_reasoning** | -1 to +1 | ë…¼ë¦¬ì  ì‚¬ê³ ë ¥ | "ë³µì¡í•œ ë¬¸ì œë¥¼ ë¶„ì„í•˜ëŠ” ê²Œ ì¬ë¯¸ìˆë‹¤" |

**Composite Scores (derived):**
- **Engineering_fit** = 0.6 Ã— STEM + 0.4 Ã— Logical - 0.2 Ã— Social
- **Business_fit** = 0.5 Ã— Social + 0.3 Ã— Verbal + 0.2 Ã— Practical
- **Humanities_fit** = 0.6 Ã— Verbal + 0.3 Ã— Artistic - 0.3 Ã— STEM
- **Arts_fit** = 0.7 Ã— Artistic + 0.2 Ã— Verbal + 0.1 Ã— Social

---

## ğŸ—„ï¸ Database Schema

### Core Tables

```sql
-- Aptitude survey definitions
CREATE TABLE aptitude_surveys (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,  -- "STEM Aptitude v1"
    description TEXT,
    target_age_min INTEGER,  -- 13 (middle school)
    target_age_max INTEGER,  -- 18 (high school)
    language VARCHAR(10) DEFAULT 'ko',
    total_questions INTEGER NOT NULL,
    estimated_time_min INTEGER,  -- 15 minutes
    active BOOLEAN DEFAULT true,
    version VARCHAR(20),  -- "1.0.0"
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

-- Survey questions
CREATE TABLE aptitude_questions (
    id BIGSERIAL PRIMARY KEY,
    survey_id INTEGER REFERENCES aptitude_surveys(id) ON DELETE CASCADE,
    question_num INTEGER NOT NULL,  -- 1, 2, 3, ...
    question_text TEXT NOT NULL,
    dimension VARCHAR(50) NOT NULL,  -- 'STEM_interest', 'Verbal_aptitude', ...
    item_type VARCHAR(20) DEFAULT 'likert',  -- 'likert', 'forced_choice', 'ranking'
    reverse_scored BOOLEAN DEFAULT false,  -- true if high score = low dimension
    meta JSONB,  -- Additional metadata
    created_at TIMESTAMP DEFAULT NOW(),
    UNIQUE(survey_id, question_num)
);

-- Answer options (for Likert scales, multiple choice)
CREATE TABLE aptitude_options (
    id BIGSERIAL PRIMARY KEY,
    question_id BIGINT REFERENCES aptitude_questions(id) ON DELETE CASCADE,
    option_num INTEGER NOT NULL,  -- 1, 2, 3, 4, 5
    label TEXT NOT NULL,  -- "ì „í˜€ ì•„ë‹ˆë‹¤", "ì•„ë‹ˆë‹¤", "ë³´í†µì´ë‹¤", "ê·¸ë ‡ë‹¤", "ë§¤ìš° ê·¸ë ‡ë‹¤"
    value NUMERIC(3,1) NOT NULL,  -- -2.0, -1.0, 0.0, 1.0, 2.0
    created_at TIMESTAMP DEFAULT NOW()
);

-- Student responses
CREATE TABLE aptitude_responses (
    id BIGSERIAL PRIMARY KEY,
    session_id BIGINT NOT NULL,  -- Links to aptitude_sessions
    student_id INTEGER REFERENCES students(id) ON DELETE CASCADE,
    survey_id INTEGER REFERENCES aptitude_surveys(id),
    question_id BIGINT REFERENCES aptitude_questions(id),
    option_id BIGINT REFERENCES aptitude_options(id),
    raw_value NUMERIC(3,1),  -- Captured from option.value
    response_time_ms INTEGER,
    created_at TIMESTAMP DEFAULT NOW()
);

-- Survey sessions (similar to exam_sessions)
CREATE TABLE aptitude_sessions (
    id BIGSERIAL PRIMARY KEY,
    student_id INTEGER REFERENCES students(id) ON DELETE CASCADE,
    survey_id INTEGER REFERENCES aptitude_surveys(id),
    status VARCHAR(20) DEFAULT 'in_progress',  -- 'in_progress', 'completed', 'abandoned'
    started_at TIMESTAMP DEFAULT NOW(),
    completed_at TIMESTAMP,
    duration_sec INTEGER,
    created_at TIMESTAMP DEFAULT NOW()
);

-- Student aptitude profiles (aggregated results)
CREATE TABLE aptitude_profiles (
    id BIGSERIAL PRIMARY KEY,
    student_id INTEGER REFERENCES students(id) ON DELETE CASCADE,
    
    -- Raw dimension scores (-1 to +1)
    dimension_scores JSONB NOT NULL,
    -- Example: {
    --   "STEM_interest": 0.75,
    --   "Verbal_aptitude": -0.3,
    --   "Artistic_creativity": 0.1,
    --   "Social_orientation": 0.5,
    --   "Practical_hands_on": 0.6,
    --   "Logical_reasoning": 0.8
    -- }
    
    -- Composite career/major fit scores
    career_fit_scores JSONB,
    -- Example: {
    --   "Engineering": 0.82,
    --   "Business": 0.45,
    --   "Humanities": 0.15,
    --   "Arts": 0.30,
    --   "Science": 0.78,
    --   "Medicine": 0.60
    -- }
    
    -- Top 3 recommended majors/tracks
    recommended_tracks JSONB,
    -- Example: [
    --   {"track": "Computer Science", "score": 0.92, "reason": "High STEM + Logical"},
    --   {"track": "Mechanical Engineering", "score": 0.85, "reason": "High Practical + STEM"},
    --   {"track": "Data Science", "score": 0.80, "reason": "High Logical + STEM"}
    -- ]
    
    -- Metadata
    last_updated TIMESTAMP DEFAULT NOW(),
    based_on_survey_ids INTEGER[],  -- [1, 2, 5] (can combine multiple surveys)
    confidence_score NUMERIC(3,2),  -- 0.0-1.0 (how reliable is this profile)
    
    created_at TIMESTAMP DEFAULT NOW(),
    UNIQUE(student_id)  -- One profile per student (updated over time)
);

-- Indexes
CREATE INDEX idx_aptitude_questions_survey ON aptitude_questions(survey_id);
CREATE INDEX idx_aptitude_questions_dimension ON aptitude_questions(dimension);
CREATE INDEX idx_aptitude_responses_student ON aptitude_responses(student_id);
CREATE INDEX idx_aptitude_responses_session ON aptitude_responses(session_id);
CREATE INDEX idx_aptitude_sessions_student ON aptitude_sessions(student_id);
CREATE INDEX idx_aptitude_profiles_student ON aptitude_profiles(student_id);
```

---

## ğŸ”Œ API Endpoints

### `/api/aptitude` Namespace

All aptitude-related endpoints under dedicated namespace.

---

### 1. Start Aptitude Survey

```http
POST /api/aptitude/surveys/{survey_id}/start
```

**Request Body:**
```json
{
  "survey_id": 1
}
```

**Success Response (201 Created):**
```json
{
  "session_id": 12345,
  "survey_id": 1,
  "survey_name": "STEM Aptitude Assessment v1",
  "total_questions": 30,
  "estimated_time_min": 15,
  "started_at": "2025-11-24T10:00:00Z"
}
```

---

### 2. Get Survey Questions

```http
GET /api/aptitude/surveys/{survey_id}/questions
```

**Query Parameters:**
- `page` (optional): Page number (default: 1)
- `per_page` (optional): Questions per page (default: 10, max: 30)

**Success Response (200 OK):**
```json
{
  "survey_id": 1,
  "total_questions": 30,
  "page": 1,
  "per_page": 10,
  "questions": [
    {
      "question_id": 101,
      "question_num": 1,
      "question_text": "ìˆ˜í•™ ë¬¸ì œë¥¼ í‘¸ëŠ” ê²ƒì´ ì¦ê²ê³  í¥ë¯¸ë¡­ë‹¤",
      "dimension": "STEM_interest",
      "item_type": "likert",
      "options": [
        {"option_id": 1001, "label": "ì „í˜€ ì•„ë‹ˆë‹¤", "value": -2.0},
        {"option_id": 1002, "label": "ì•„ë‹ˆë‹¤", "value": -1.0},
        {"option_id": 1003, "label": "ë³´í†µì´ë‹¤", "value": 0.0},
        {"option_id": 1004, "label": "ê·¸ë ‡ë‹¤", "value": 1.0},
        {"option_id": 1005, "label": "ë§¤ìš° ê·¸ë ‡ë‹¤", "value": 2.0}
      ]
    },
    {
      "question_id": 102,
      "question_num": 2,
      "question_text": "ê¸€ì„ ì“°ê±°ë‚˜ ì±…ì„ ì½ëŠ” ê²ƒì´ í¸í•˜ê³  ìì—°ìŠ¤ëŸ½ë‹¤",
      "dimension": "Verbal_aptitude",
      "item_type": "likert",
      "options": [...]
    }
  ]
}
```

---

### 3. Submit Survey Responses

```http
POST /api/aptitude/surveys/{survey_id}/submit
```

**Request Body:**
```json
{
  "session_id": 12345,
  "responses": [
    {"question_id": 101, "option_id": 1004, "response_time_ms": 3200},
    {"question_id": 102, "option_id": 1003, "response_time_ms": 2800},
    {"question_id": 103, "option_id": 1005, "response_time_ms": 2500}
  ]
}
```

**Success Response (200 OK):**
```json
{
  "session_id": 12345,
  "submitted_count": 3,
  "total_questions": 30,
  "progress": 0.10,
  "message": "3 responses saved successfully"
}
```

**Complete Survey Response (if all answered):**
```json
{
  "session_id": 12345,
  "status": "completed",
  "completed_at": "2025-11-24T10:15:00Z",
  "duration_sec": 900,
  "message": "Survey completed! View your results."
}
```

---

### 4. Get Survey Results

```http
GET /api/aptitude/results/{session_id}
```

**Success Response (200 OK):**
```json
{
  "session_id": 12345,
  "student_id": 42,
  "survey_name": "STEM Aptitude Assessment v1",
  "completed_at": "2025-11-24T10:15:00Z",
  
  "dimension_scores": {
    "STEM_interest": 0.75,
    "Verbal_aptitude": -0.30,
    "Artistic_creativity": 0.10,
    "Social_orientation": 0.50,
    "Practical_hands_on": 0.60,
    "Logical_reasoning": 0.80
  },
  
  "career_fit_scores": {
    "Engineering": 0.82,
    "Computer_Science": 0.88,
    "Business": 0.45,
    "Humanities": 0.15,
    "Arts": 0.30,
    "Science": 0.78
  },
  
  "top_recommendations": [
    {
      "rank": 1,
      "major": "Computer Science / Software Engineering",
      "fit_score": 0.88,
      "reasons": [
        "ë†’ì€ STEM í¥ë¯¸ë„ (ìƒìœ„ 15%)",
        "ë›°ì–´ë‚œ ë…¼ë¦¬ì  ì‚¬ê³ ë ¥ (ìƒìœ„ 10%)",
        "ì‹¤ë¬´/ì‹¤ìŠµ ì„ í˜¸ë„ ë†’ìŒ"
      ],
      "related_careers": ["ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œì", "ë°ì´í„° ê³¼í•™ì", "AI ì—°êµ¬ì›"]
    },
    {
      "rank": 2,
      "major": "Mechanical / Electrical Engineering",
      "fit_score": 0.82,
      "reasons": [
        "ë†’ì€ STEM í¥ë¯¸ë„",
        "ì‹¤ë¬´ ì§€í–¥ì  ì„±í–¥",
        "ë¬¸ì œ í•´ê²° ëŠ¥ë ¥ ìš°ìˆ˜"
      ],
      "related_careers": ["ê¸°ê³„ ì„¤ê³„ ì—”ì§€ë‹ˆì–´", "ì „ì ê³µí•™ ì—”ì§€ë‹ˆì–´", "ë¡œë´‡ ê³µí•™ì"]
    },
    {
      "rank": 3,
      "major": "Natural Sciences (Physics, Chemistry)",
      "fit_score": 0.78,
      "reasons": [
        "ë†’ì€ ë…¼ë¦¬ì  ì‚¬ê³ ë ¥",
        "ë¶„ì„ì  ë¬¸ì œ í•´ê²° ì„ í˜¸"
      ],
      "related_careers": ["ì—°êµ¬ì›", "ê³¼í•™ì", "êµìˆ˜"]
    }
  ],
  
  "feedback": {
    "summary": "ë‹¹ì‹ ì€ **ì´ê³µê³„ ì§„ë¡œ**ì— ë§¤ìš° ì í•©í•œ í”„ë¡œíŒŒì¼ì…ë‹ˆë‹¤. íŠ¹íˆ ì»´í“¨í„° ê³¼í•™, ì†Œí”„íŠ¸ì›¨ì–´ ê³µí•™ ë¶„ì•¼ì—ì„œ ê°•ì ì„ ë°œíœ˜í•  ê²ƒìœ¼ë¡œ ì˜ˆìƒë©ë‹ˆë‹¤.",
    "strengths": [
      "ë…¼ë¦¬ì  ì‚¬ê³ ì™€ ë¬¸ì œ í•´ê²° ëŠ¥ë ¥ì´ ë›°ì–´ë‚¨",
      "STEM ê³¼ëª©ì— ëŒ€í•œ ë†’ì€ í¥ë¯¸ì™€ ì—´ì •",
      "ì‹¤ìŠµê³¼ ì‹¤ë¬´ë¥¼ í†µí•œ í•™ìŠµ ì„ í˜¸"
    ],
    "development_areas": [
      "ì–¸ì–´ì  í‘œí˜„ë ¥ í–¥ìƒì„ ìœ„í•œ ê¸€ì“°ê¸° ì—°ìŠµ ê¶Œì¥",
      "íŒ€ í”„ë¡œì íŠ¸ ê²½í—˜ì„ í†µí•œ í˜‘ì—… ëŠ¥ë ¥ ê°œë°œ"
    ],
    "next_steps": [
      "ì½”ë”©/í”„ë¡œê·¸ë˜ë° ì…ë¬¸ ê³¼ì • ìˆ˜ê°• ì¶”ì²œ",
      "ê³¼í•™/ìˆ˜í•™ ë™ì•„ë¦¬ í™œë™ ì°¸ì—¬",
      "ì´ê³µê³„ ì„ ë°° ë©˜í† ë§ í”„ë¡œê·¸ë¨ ì‹ ì²­"
    ]
  }
}
```

---

### 5. Get Student Aptitude Profile

```http
GET /api/aptitude/profile
```

**Headers:**
```
Authorization: Bearer <access_token>
```

**Success Response (200 OK):**
```json
{
  "student_id": 42,
  "profile_id": 7,
  "last_updated": "2025-11-24T10:15:00Z",
  "based_on_surveys": [
    {"survey_id": 1, "name": "STEM Aptitude v1", "completed": "2025-11-20"},
    {"survey_id": 3, "name": "Learning Style v1", "completed": "2025-11-24"}
  ],
  "confidence_score": 0.85,
  
  "dimension_scores": {
    "STEM_interest": 0.75,
    "Verbal_aptitude": -0.30,
    "Artistic_creativity": 0.10,
    "Social_orientation": 0.50,
    "Practical_hands_on": 0.60,
    "Logical_reasoning": 0.80
  },
  
  "career_fit_scores": {
    "Engineering": 0.82,
    "Computer_Science": 0.88,
    "Business": 0.45,
    "Humanities": 0.15,
    "Arts": 0.30,
    "Science": 0.78
  },
  
  "recommended_tracks": [
    {"track": "Computer Science", "score": 0.88},
    {"track": "Engineering", "score": 0.82},
    {"track": "Natural Sciences", "score": 0.78}
  ],
  
  "learning_style": {
    "preferred_modality": "Visual + Hands-on",
    "study_preference": "Independent with practical application",
    "optimal_environment": "Quiet, structured, with clear goals"
  }
}
```

**If No Profile Yet (404):**
```json
{
  "detail": "No aptitude profile found. Please complete at least one survey.",
  "available_surveys": [
    {"survey_id": 1, "name": "STEM Aptitude v1"},
    {"survey_id": 2, "name": "Career Interest Inventory"}
  ]
}
```

---

## ğŸ“¦ Pydantic Models

```python
# backend/app/schemas/aptitude_schemas.py

from pydantic import BaseModel, Field
from typing import List, Optional, Dict
from datetime import datetime

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Survey Models
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

class SurveyInfo(BaseModel):
    survey_id: int
    name: str
    description: Optional[str]
    total_questions: int
    estimated_time_min: int
    active: bool

class QuestionOption(BaseModel):
    option_id: int
    label: str
    value: float

class SurveyQuestion(BaseModel):
    question_id: int
    question_num: int
    question_text: str
    dimension: str
    item_type: str
    options: List[QuestionOption]

class SurveyQuestionsResponse(BaseModel):
    survey_id: int
    total_questions: int
    page: int
    per_page: int
    questions: List[SurveyQuestion]

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Session Models
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

class StartSurveyRequest(BaseModel):
    survey_id: int

class StartSurveyResponse(BaseModel):
    session_id: int
    survey_id: int
    survey_name: str
    total_questions: int
    estimated_time_min: int
    started_at: datetime

class ResponseItem(BaseModel):
    question_id: int
    option_id: int
    response_time_ms: Optional[int] = None

class SubmitResponsesRequest(BaseModel):
    session_id: int
    responses: List[ResponseItem]

class SubmitResponsesResponse(BaseModel):
    session_id: int
    submitted_count: int
    total_questions: int
    progress: float
    status: Optional[str] = None
    completed_at: Optional[datetime] = None
    message: str

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Results Models
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

class RecommendedMajor(BaseModel):
    rank: int
    major: str
    fit_score: float
    reasons: List[str]
    related_careers: List[str]

class ResultFeedback(BaseModel):
    summary: str
    strengths: List[str]
    development_areas: List[str]
    next_steps: List[str]

class SurveyResultsResponse(BaseModel):
    session_id: int
    student_id: int
    survey_name: str
    completed_at: datetime
    dimension_scores: Dict[str, float]
    career_fit_scores: Dict[str, float]
    top_recommendations: List[RecommendedMajor]
    feedback: ResultFeedback

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Profile Models
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

class CompletedSurvey(BaseModel):
    survey_id: int
    name: str
    completed: str

class TrackRecommendation(BaseModel):
    track: str
    score: float

class LearningStyle(BaseModel):
    preferred_modality: str
    study_preference: str
    optimal_environment: str

class AptitudeProfileResponse(BaseModel):
    student_id: int
    profile_id: int
    last_updated: datetime
    based_on_surveys: List[CompletedSurvey]
    confidence_score: float
    dimension_scores: Dict[str, float]
    career_fit_scores: Dict[str, float]
    recommended_tracks: List[TrackRecommendation]
    learning_style: Optional[LearningStyle] = None
```

---

## ğŸ“‹ Backlog: EPIC 8

### ğŸŸª EPIC 8 â€” Aptitude & Interest Assessment (Phase 2 Core)

**Priority:** High (Core Feature)  
**Estimated Effort:** 18-22 days  
**Dependencies:** Phase 1.0 Auth, Student dashboard  

---

#### **Story 8.1 â€” Aptitude Survey Schema & Seed Data**

**Effort:** 3 days  

**Tasks:**
- [ ] **Task 8.1.1** â€” Design DB schema (2 hours)
  - Create Alembic migration for 6 tables
  - Add indexes and foreign keys
  - Document dimension framework
  
- [ ] **Task 8.1.2** â€” Seed default survey (1 day)
  - Create "STEM Aptitude v1" with 30 questions
  - Map questions to 6 dimensions
  - Create Likert scale options (5-point)
  
- [ ] **Task 8.1.3** â€” Define dimension naming & scoring rules (1 day)
  - Document dimension calculation formulas
  - Create composite score algorithms
  - Define career/major mapping rules

---

#### **Story 8.2 â€” Aptitude API v1**

**Effort:** 5 days  

**Tasks:**
- [ ] **Task 8.2.1** â€” POST /api/aptitude/surveys/{id}/start (4 hours)
  - Create aptitude_sessions record
  - Return session info
  - Add student ownership check
  
- [ ] **Task 8.2.2** â€” GET /api/aptitude/surveys/{id}/questions (4 hours)
  - Implement pagination
  - Return questions with options
  - Order by question_num
  
- [ ] **Task 8.2.3** â€” POST /api/aptitude/surveys/{id}/submit (1 day)
  - Batch insert responses
  - Validate option_ids
  - Update session status on completion
  
- [ ] **Task 8.2.4** â€” GET /api/aptitude/results/{session_id} (2 days)
  - Calculate dimension scores (average by dimension)
  - Generate career fit scores (composite formulas)
  - Create top 3 recommendations with reasons
  - Generate feedback text (rule-based)

---

#### **Story 8.3 â€” Aptitude Profile Management**

**Effort:** 4 days  

**Tasks:**
- [ ] **Task 8.3.1** â€” Dimension score calculation service (1 day)
  - Implement scoring algorithm
  - Handle reverse-scored items
  - Normalize scores to [-1, +1] range
  
- [ ] **Task 8.3.2** â€” GET /api/aptitude/profile (1 day)
  - Query latest profile or aggregate from sessions
  - Return comprehensive profile
  - Calculate confidence score
  
- [ ] **Task 8.3.3** â€” Major/track recommendation engine (2 days)
  - Define 10-15 major categories
  - Create scoring formulas (weighted dimensions)
  - Generate reasons (template-based)
  - Map to related careers

---

#### **Story 8.4 â€” Frontend: Aptitude UX (Phase 2)**

**Effort:** 6 days  

**Tasks:**
- [ ] **Task 8.4.1** â€” Add "ì ì„±/ì§„ë¡œ ì§„ë‹¨" menu (2 hours)
  - Update navigation
  - Create landing page
  - List available surveys
  
- [ ] **Task 8.4.2** â€” Likert question UI (2 days)
  - Create question card component
  - Implement 5-point Likert scale buttons
  - Add progress indicator
  - Save responses on each answer
  
- [ ] **Task 8.4.3** â€” Results visualization (3 days)
  - Display dimension scores (bar chart)
  - Show top 3 recommendations (cards)
  - Display feedback sections
  - Add share/download options
  
- [ ] **Task 8.4.4** â€” Profile dashboard (1 day)
  - Show latest profile summary
  - Display dimension radar chart (defer to Phase 2.5)
  - Link to past survey results
  - Show recommended actions

---

## ğŸ¯ Success Criteria

After EPIC 8 completion:

1. âœ… Students can complete 30-question aptitude survey
2. âœ… System calculates 6 dimension scores accurately
3. âœ… Top 3 major/track recommendations generated
4. âœ… Profile persists and updates with new surveys
5. âœ… Frontend displays results with clear visualizations
6. âœ… Confidence score reflects profile reliability

---

## ğŸš€ Phase 2 Roadmap

```
Week 1-2: Story 8.1 + 8.2 (Backend schema + API)
Week 3-4: Story 8.3 (Profile engine + recommendations)
Week 5-6: Story 8.4 (Frontend UX)
Week 7: Testing & refinement
Week 8: Beta testing with 20-30 students
```

---

## ğŸ“ Related Documents

- [PHASE1_API_CONTRACT.md](./PHASE1_API_CONTRACT.md) - Academic CAT APIs
- [PHASE2_COMBINED_INSIGHTS.md](./PHASE2_COMBINED_INSIGHTS.md) - Integration strategy (TBD)
- [DIMENSION_FRAMEWORK.md](./DIMENSION_FRAMEWORK.md) - Detailed dimension design (TBD)

---

**Status:** ğŸ“‹ **READY FOR IMPLEMENTATION** (Phase 2.0)  
**Next Step:** Create seed survey with 30 sample questions  

---

**End of Aptitude Assessment Specification**
